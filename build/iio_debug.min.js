function emptyFn(){}iio.App=function(){this.App.apply(this,arguments)},iio.inherit(iio.App,iio.Obj),iio.App.prototype._super=iio.Obj.prototype,iio.App.prototype.App=function(a,b,c){this._super.Obj.call(this,arguments),this.app=this,this.canvas=a,this.ctx=a.getContext("2d"),this.canvas.parent=this,iio.canvas.prep_input(this.canvas),this.width=a.clientWidth||a.width,this.height=a.clientHeight||a.height,this.center=new iio.V(this.width/2,this.height/2);var d=a.getBoundingClientRect();this.pos=new iio.V(d.left,d.top),this.collisions=[],this.objs=[],this.loops=[],iio.apps.push(this),this.runScript=new b(this,c)},iio.App.prototype.convertEventPos=function(a){return new iio.V(a.clientX-this.pos.x,a.clientY-this.pos.y)},iio.App.prototype.stop=function(){this.objs.forEach(function(a){iio.cancelLoops(a)}),iio.cancelLoops(this),this.mainLoop&&iio.cancelLoop(this.mainLoop.id),this.clear()},iio.App.prototype.draw=function(a){if(a||this.ctx.clearRect(0,0,this.width,this.height),this.color&&(this.ctx.fillStyle=this.color.toString(),this.ctx.fillRect(0,0,this.width,this.height)),this.round&&this.canvas.style.borderRadius!=this.round&&(this.canvas.style.borderRadius=this.round),this.outline&&(this.canvas.style.border=(this.lineWidth||1)+"px solid "+this.outline),this.alpha&&(this.canvas.style.opacity=this.alpha),this.objs.length>0)for(var b=0;b<this.objs.length;b++)this.objs[b].draw&&this.objs[b].draw(this.ctx)},iio.App.prototype.clear=function(){this.ctx.clearRect(0,0,this.width,this.height)},iio.App.prototype.collision=function(a,b,c){this.collisions.push([a,b,c])},iio.App.prototype.cCollisions=function(a,b,c){if(a instanceof Array)if(b instanceof Array){if(0==b.length)return;a.forEach(function(a){b.forEach(function(b){iio.collision.check(a,b)&&c(a,b)})})}else a.forEach(function(a){iio.collision.check(a,b)&&c(a,b)});else b instanceof Array?b.forEach(function(b){iio.collision.check(a,b)&&c(a,b)}):iio.collision.check(a,b)&&c(a,b)},iio.App.prototype._update=function(a,b){this.update&&this.update(b),this.objs&&this.objs.length>0&&this.objs.forEach(function(c){c.update&&c.update(a,b)&&this.rmv(c)},this),this.collisions&&this.collisions.length>0&&this.collisions.forEach(function(a){this.cCollisions(a[0],a[1],a[2])},this),this.draw()},iio.Circle=function(){this.Circle.apply(this,arguments)},iio.inherit(iio.Circle,iio.Drawable),iio.Circle.prototype._super=iio.Drawable.prototype,iio.Circle.prototype.Circle=function(){this._super.Drawable.call(this,this.merge_props(arguments))},iio.Circle.prototype.convert_props=function(){if(this._super.convert_props.call(this),this.img)if(iio.is.string(this.img)){var a=this.img;this.img=new Image,this.img.src=a,this.img.parent=this;var b=this;this.img.onload=this.radius?function(a){b.app&&b.app.draw()}:function(a){b.radius=b.img.width/2||0,b.app&&b.app.draw()}}else this.radius||(0==b.radius&&(b.radius=this.img.width/2||0),b.app&&b.app.draw())},iio.Circle.prototype.draw_shape=function(a){a.beginPath(),a.arc(0,0,this.radius,0,2*Math.PI,!1),this.color&&a.fill(),this.outline&&a.stroke(),this.clip&&a.clip(),this.img&&a.drawImage(this.img,-this.radius,-this.radius,2*this.radius,2*this.radius)},iio.Circle.prototype.contains=function(a,b){return"undefined"!=typeof b&&(a={x:a,y:b}),this.radius==this.radius&&iio.v.dist(a,this.pos)<this.radius?!0:(this.rot&&(a.x-=this.pos.x,a.y-=this.pos.y,a=iio.rotatePoint(a.x,a.y,-this.rot),a.x+=this.pos.x,a.y+=this.pos.y),Math.pow(a.x-this.pos.x,2)/Math.pow(this.radius,2)+Math.pow(a.y-this.pos.y,2)/Math.pow(this.radius,2)<=1?!0:!1)},iio.Circle.prototype.left=function(){return this.pos.x-this.radius},iio.Circle.prototype.right=function(){return this.pos.x+this.radius},iio.Circle.prototype.top=function(){return this.pos.y-this.radius},iio.Circle.prototype.bottom=function(){return this.pos.y+this.radius},iio.Color=function(){this.Color.apply(this,arguments)},iio.Color.random=function(){return new iio.Color(iio.randomInt(0,255),iio.randomInt(0,255),iio.randomInt(0,255))},iio.Color.prototype.Color=function(a,b,c,d){return this.r=a||0,this.g=b||0,this.b=c||0,this.a=d||1,this},iio.Color.prototype.clone=function(){return new iio.Color(this.r,this.g,this.b,this.a)},iio.Color.prototype.toString=function(){return"rgba("+this.r+","+this.g+","+this.b+","+this.a+")"},iio.Color.prototype.invert=function(){return this.r=255-this.r,this.g=255-this.g,this.b=255-this.b,this},iio.Color.prototype.randomize=function(a){return this.r=iio.randomInt(0,255),this.g=iio.randomInt(0,255),this.b=iio.randomInt(0,255),a&&(this.a=iio.random()),this},iio.Drawable=function(){this.Drawable.apply(this,arguments)},iio.inherit(iio.Drawable,iio.Obj),iio.Drawable.prototype._super=iio.Obj.prototype,iio.Drawable.prototype.Drawable=function(){this._super.Obj.call(this,arguments[0])},iio.Drawable.prototype.left=function(){return this.pos?this.pos.x:0},iio.Drawable.prototype.right=function(){return this.pos?this.pos.x:0},iio.Drawable.prototype.top=function(){return this.pos?this.pos.y:0},iio.Drawable.prototype.bottom=function(){return this.pos?this.pos.y:0},iio.Drawable.prototype.resolve=function(a,b){return a.length>1?a[1](b):!0},iio.Drawable.prototype.over_upper_limit=function(a,b,c){return b>a[0]?this.resolve(a,c):!1},iio.Drawable.prototype.below_lower_limit=function(a,b,c){return b<a[0]?this.resolve(a,c):!1},iio.Drawable.prototype.update=function(){var a=!1;return this.bounds&&(a=this.past_bounds()),this.shrink&&(a=this.update_shrink()),this.fade&&(a=this.update_fade()),a?a:(this.acc&&this.update_acc(),this.vel&&this.update_vel(),this.rAcc&&(this.rVel+=this.rAcc),this.rVel&&this.update_rotation(),this.accs&&this.update_accs(),this.vels&&this.update_vels(),this.bezierAccs&&this.update_bezier_accs(),this.bezierVels&&this.update_bezier_vels(),this.onUpdate&&this.onUpdate(),void(this.objs&&this.objs.length>0&&this.objs.forEach(function(a){a.update&&a.update()&&this.rmv(a)},this)))},iio.Drawable.prototype.update_vel=function(){if(this.pos&&(this.vel.x&&(this.pos.x+=this.vel.x),this.vel.y&&(this.pos.y+=this.vel.y)),this.vs)for(var a=0;a<this.vs.length;a++)this.vel.x&&(this.vs[a].x+=this.vel.x),this.vel.y&&(this.vs[a].y+=this.vel.y)},iio.Drawable.prototype.update_vels=function(){if(this.vs)for(var a=0;a<this.vels.length;a++)this.vels[a].x&&(this.vs[a].x+=this.vels[a].x),this.vels[a].y&&(this.vs[a].y+=this.vels[a].y)},iio.Drawable.prototype.update_bezier_vels=function(){if(this.bezier)for(var a=0;a<this.bezierVels.length;a++)this.bezierVels[a].x&&(this.bezier[a].x+=this.bezierVels[a].x),this.bezierVels[a].y&&(this.bezier[a].y+=this.bezierVels[a].y)},iio.Drawable.prototype.update_bezier_accs=function(){if(this.bezierVels)for(var a=0;a<this.bezierAccs.length;a++)this.bezierAccs[a].x&&(this.bezierVels[a].x+=this.bezierAccs[a].x),this.bezierAccs[a].y&&(this.bezierVels[a].y+=this.bezierAccs[a].y)},iio.Drawable.prototype.update_rotation=function(){this.rotation+=this.rVel,(this.rotation>6283||this.rotation<-6283)&&(this.rotation=0)},iio.Drawable.prototype.update_acc=function(){this.vel.x+=this.acc.x,this.vel.y+=this.acc.y},iio.Drawable.prototype.update_accs=function(){if(this.vels)for(var a=0;a<this.accs.length;a++)this.accs[a].x&&(this.vels[a].x+=this.accs[a].x),this.accs[a].y&&(this.vels[a].y+=this.accs[a].y)},iio.Drawable.prototype.update_shrink=function(){return this.shrink instanceof Array?this._shrink(this.shrink[0],this.shrink[1]):this._shrink(this.shrink)},iio.Drawable.prototype.update_fade=function(){return this.fade.speed?this._fade(this.fade.speed,this.fade.onFinish):this._fade(this.fade)},iio.Drawable.prototype.past_bounds=function(){return this.bounds.right&&this.over_upper_limit(this.bounds.right,this.right(),this)?!0:this.bounds.left&&this.below_lower_limit(this.bounds.left,this.left(),this)?!0:this.bounds.top&&this.below_lower_limit(this.bounds.top,this.top(),this)?!0:this.bounds.bottom&&this.over_upper_limit(this.bounds.bottom,this.bottom(),this)?!0:this.bounds.rightRotation&&this.over_upper_limit(this.bounds.rightRotation,this.rotation,this)?!0:this.bounds.leftRotation&&this.below_lower_limit(this.bounds.leftRotation,this.rotation,this)?!0:!1},iio.Drawable.prototype.update_properties_deprecated=function(){if(o.simple&&(o.bbx instanceof Array?o.bbx[1]=o.bbx[0]:o.bbx=[o.bbx,o.bbx]),o.anims&&(o.animKey=0,o.animFrame=0,o.width||(o.width=o.anims[o.animKey].frames[o.animFrame].w),o.height||(o.height=o.anims[o.animKey].frames[o.animFrame].h)),o.bezier&&o.bezier.forEach(function(a,b){"n"===a&&(o.bezier[b]=void 0)}),o.img&&iio.is.string(o.img)){nd=!1;var a=o.img;o.img=new Image,o.img.src=a,o.img.parent=o,("undefined"==typeof o.width&&"undefined"==typeof o.radius||0==o.radius)&&(o.img.onload=function(a){0==o.radius?o.radius=o.width/2:(o.width=o.width||0,o.height=o.height||0),nd||o.app.draw()})}else o.img&&("undefined"==typeof o.width&&"undefined"==typeof o.radius||0==o.radius)&&(0==o.radius?o.radius=o.img.width/2:(o.width=o.img.width||0,o.height=o.img.height||0),nd||o.app.draw())},iio.Drawable.prototype.playAnim=function(a,b,c,d,e){if(iio.is.string(b)){var f=this;this.anims.some(function(a,c){return a.tag==b?(f.animKey=c,f.width=a.frames[f.animFrame].w,f.height=a.frames[f.animFrame].h,!0):!1})}else c=b;this.animFrame=e||0,"undefined"!=typeof c&&(this.repeat=c,this.onanimstop=d);var g;return a>0?g=this.loop(a,iio.anim.next):0>a?g=this.loop(-1*a,iio.anim.prev):this.app.draw(),g},iio.Drawable.prototype.nextFrame=function(a){if(a.animFrame++,a.animFrame>=a.anims[a.animKey].frames.length&&(a.animFrame=0,"undefined"!=typeof a.repeat)){if(a.repeat<=1)return window.cancelAnimationFrame(id),window.clearTimeout(id),void(a.onanimstop&&a.onanimstop(id,a));a.repeat--}},iio.Drawable.prototype.prevFrame=function(a){a.animFrame--,a.animFrame<0&&(a.animFrame=a.anims[a.animKey].frames.length-1),a.app.draw()},iio.Drawable.prototype._shrink=function(a,b){return this.width*=1-a,this.height*=1-a,this.width<.02?b?b(this):!0:void 0},iio.Drawable.prototype._fade=function(a,b){return this.alpha*=1-a,this.alpha<a||this.alpha>1-a?(this.alpha>1?this.alpha=1:this.alpha<0&&(this.alpha=0),b?b(this):!0):void 0},iio.Drawable.prototype.orient_ctx=function(a){return a=a||this.app.ctx,a.save(),this.pos&&a.translate(this.pos.x,this.pos.y),this.rotation&&(this.origin&&a.translate(this.origin.x,this.origin.y),a.rotate(this.rotation),this.origin&&a.translate(-this.origin.x,-this.origin.y)),a},iio.Drawable.prototype.prep_ctx_color=function(a){return a.fillStyle=this.color instanceof iio.Gradient?this.color.canvasGradient(a):this.color.toString(),a},iio.Drawable.prototype.prep_ctx_outline=function(a){return a.strokeStyle=this.outline instanceof iio.Gradient?this.outline.canvasGradient(a):this.outline.toString(),a},iio.Drawable.prototype.prep_ctx_lineWidth=function(a){return a.lineWidth=this.lineWidth||1,a},iio.Drawable.prototype.prep_ctx_shadow=function(a){return a.shadowColor=this.shadow.toString(),this.shadowBlur&&(a.shadowBlur=this.shadowBlur),this.shadowOffset?(a.shadowOffsetX=this.shadowOffset.x,a.shadowOffsetY=this.shadowOffset.y):(a.shadowOffsetX=5,a.shadowOffsetY=5),a},iio.Drawable.prototype.prep_ctx_dash=function(a){return this.dashOffset&&(a.lineDashOffset=this.dashOffset),a.setLineDash(this.dash),a},iio.Drawable.prototype.finish_path_shape=function(a){this.color&&a.fill(),this.img&&a.drawImage(this.img,-this.width/2,-this.height/2,this.width,this.height),this.outline&&a.stroke(),this.clip&&a.clip()},iio.Drawable.prototype.draw_obj=function(a){a.save(),this.alpha&&(a.globalAlpha=this.alpha),this.lineCap&&(a.lineCap=this.lineCap),this.shadow&&(a=this.prep_ctx_shadow(a)),this.dash&&(a=this.prep_ctx_dash(a)),this.color&&(a=this.prep_ctx_color(a)),this.outline&&(a=this.prep_ctx_outline(a),a=this.prep_ctx_lineWidth(a)),this.draw_shape&&this.draw_shape(a),a.restore()},iio.Drawable.prototype.draw=function(a){if(!this.hidden){if(a=this.orient_ctx(a),this.objs&&this.objs.length>0){var b=!1;this.objs.forEach(function(c){!b&&c.z>=this.z&&(this.draw_obj(a),b=!0),c.draw&&c.draw(a)},this),b||this.draw_obj(a)}else this.draw_obj(a);a.restore()}},iio.Drawable.prototype.draw_line=function(a,b,c,d,e){a.beginPath(),a.moveTo(x,y),a.lineTo(b,c),a.stroke()},iio.Gradient=function(){this.Gradient.apply(this,arguments)},iio.Gradient.prototype.Gradient=function(){for(var a in arguments[0])this[a]=arguments[0][a];this.convert_v("start"),this.convert_v("end");for(var b=0;b<this.stops.length;b++)iio.is.string(this.stops[b][1])&&(this.stops[b][1]=iio.convert.color(this.stops[b][1]))},iio.Gradient.prototype.canvasGradient=function(a){var b;b=this.startRadius?a.createRadialGradient(this.start.x,this.start.y,this.startRadius,this.end.x,this.end.y,this.endRadius):a.createLinearGradient(this.start.x,this.start.y,this.end.x,this.end.y);for(var c=0;c<this.stops.length;c++)b.addColorStop(this.stops[c][0],this.stops[c][1].toString());return b},iio.Gradient.prototype.convert_v=function(a){this[a]&&this[a]instanceof Array&&(this[a]=new iio.V(this[a]))},iio.Grid=function(){this.Grid.apply(this,arguments)},iio.inherit(iio.Grid,iio.Rectangle),iio.Grid.prototype._super=iio.Rectangle.prototype,iio.Grid.prototype.Grid=function(){this._super.Rectangle.call(this,arguments[0]),this.res={x:this.width/this.C,y:this.height/this.R},this.cells=[];for(var a=-this.res.x*(this.C-1)/2,b=-this.res.y*(this.R-1)/2,c=0;c<this.C;c++){this.cells[c]=[];for(var d=0;d<this.R;d++)this.cells[c][d]=this.add({pos:{x:a,y:b},c:c,r:d,width:this.res.x,height:this.res.y}),b+=this.res.y;b=-this.res.y*(this.R-1)/2,a+=this.res.x}},iio.Grid.prototype.draw_shape=function(a){if(a.translate(-this.width/2,-this.height/2),this.color){this.color.indexOf&&this.color.indexOf("gradient")>-1&&(this.color=this.createGradient(a,this.color)),a.strokeStyle=this.color,a.lineWidth=this.lineWidth;for(var b=1;b<this.C;b++)this.draw_line(a,b*this.res.x,0,b*this.res.x,this.height);for(var c=1;c<this.R;c++)this.draw_line(a,0,c*this.res.y,this.width,c*this.res.y)}},iio.Grid.prototype.clear=function(){this.objs=[],iio.initGrid(this),this.app.draw()},iio.Grid.prototype.cellCenter=function(a,b){return{x:-this.width/2+a*this.res.x+this.res.x/2,y:-this.height/2+b*this.res.y+this.res.y/2}},iio.Grid.prototype.cellAt=function(a,b){return a.x?this.cells[Math.floor((a.x-this.left)/this.res.x)][Math.floor((a.y-this.top)/this.res.y)]:this.cells[Math.floor((a-this.left)/this.res.x)][Math.floor((b-this.top)/this.res.y)]},iio.Grid.prototype.foreachCell=function(a,b){for(var c=0;c<this.C;c++)for(var d=0;d<this.R;d++)if(a(this.cells[c][d],b)===!1)return[d,c]},iio.Line=function(){this.Line.apply(this,arguments)},iio.inherit(iio.Line,iio.Drawable),iio.Line.prototype._super=iio.Drawable.prototype,iio.Line.prototype.Line=function(){this._super.Drawable.call(this,this.merge_props(arguments))},iio.Line.prototype.contains=function(a,b){if("undefined"!=typeof b&&(a={x:a,y:b}),iio.is.between(a.x,this.pos.x,this.vs[1].x)&&iio.is.between(a.y,this.vs[0].y,this.vs[1].y)){var c=(this.vs[1].y-this.vs[0].y)/(this.vs[1].x-this.vs[0].x);if(!isFinite(c))return!0;var b=c*(this.vs[1].x-this.vs[0].x)+this.vs[0].y;if(b==a.y)return!0}return!1},iio.Line.prototype.prep_ctx_color=function(a){return a.strokeStyle=this.color instanceof iio.Gradient?this.color.canvasGradient(a):this.color.toString(),a=this.prep_ctx_lineWidth(a)},iio.Line.prototype.prep_ctx_lineWidth=function(a){return a.lineWidth=this.width||1,a},iio.Line.prototype.draw_shape=function(a){a.beginPath(),a.moveTo(this.vs[0].x,this.vs[0].y),this.bezier?a.bezierCurveTo(this.bezier[0].x,this.bezier[0].y,this.bezier[1].x,this.bezier[1].y,this.vs[1].x,this.vs[1].y):a.lineTo(this.vs[1].x,this.vs[1].y),a.stroke()},iio.Obj=function(){this.Obj.apply(this,arguments)},iio.Obj.prototype.Obj=function(){this.objs=[],this.set(arguments[0],!0)},iio.Obj.prototype.merge_props=function(a){for(var b={},c=0;c<a.length;c++)b=iio.merge(b,a[c]);return b},iio.Obj.prototype.set=function(){for(var a in arguments[0])this[a]=arguments[0][a];this.convert_props(),arguments[arguments.length-1]===!0||this.app&&this.app.draw()},iio.Obj.prototype.setAlpha=function(a,b){this.alpha=a||1,b||this.app&&this.app.draw()},iio.Obj.prototype.convert_props=function(){if(iio.is.string(this.color)&&(this.color=iio.convert.color(this.color)),iio.is.string(this.outline)&&(this.outline=iio.convert.outline(this.outline)),iio.is.string(this.shadow)&&(this.shadow=iio.convert.color(this.shadow)),!this.dash||this.dash instanceof Array||(this.dash=[this.dash]),this.convert_v("pos"),this.convert_v("origin"),this.convert_v("vel"),this.convert_v("acc"),this.convert_v("shadowOffset"),this.convert_vs("vs"),this.convert_vs("vels"),this.convert_vs("accs"),this.convert_vs("bezier"),this.convert_vs("bezierVels"),this.convert_vs("bezierAccs"),"undefined"!=typeof this.fade&&"undefined"==typeof this.alpha&&(this.alpha=1),"undefined"==typeof this.rAcc||this.rVel||(this.rVel=0),"undefined"==typeof this.rVel||this.rotation||(this.rotation=0),"undefined"!=typeof this.bezierAccs&&!this.bezierVels){this.bezierVels=[];for(var a=0;a<this.bezierAccs.length;a++)this.bezierVels.push(new iio.V)}if("undefined"!=typeof this.bezierVels&&!this.bezier){this.bezier=[];for(var a=0;a<this.bezierVels.length;a++)this.bezier.push(new iio.V)}},iio.Obj.prototype.convert_v=function(a){this[a]&&this[a]instanceof Array&&(this[a]=new iio.V(this[a]))},iio.Obj.prototype.convert_vs=function(a){if(this[a])for(var b=0;b<this[a].length;b++)this[a][b]instanceof Array&&(this[a][b]=new iio.V(this[a][b]))},iio.Obj.prototype.create=function(){for(var a={},b=0;b<arguments.length&&null!==arguments[b];b++)arguments[b]instanceof iio.V?a.pos=arguments[b]:arguments[b]instanceof iio.Color?a.color=arguments[b]:"object"==typeof arguments[b]?a=iio.merge(a,arguments[b]):iio.is.number(arguments[b])?a.width=arguments[b]:iio.is.string(arguments[b])&&(a.color=arguments[b]);return a.vs?2==a.vs.length?this.add(new iio.Line(a)):void 0:this.add(this.radius?new iio.Ellipse(a):this.height?new iio.Rectangle(a):new iio.Square(a))},iio.Obj.prototype.add=function(){if(arguments[0]instanceof Array)for(var a=0;a<arguments[0].length;a++)this.add(arguments);else{arguments[0].parent=this,arguments[0].app=this.app,"undefined"==typeof arguments[0].z&&(arguments[0].z=0);for(var a=0;a<this.objs.length&&"undefined"!=typeof this.objs[a].z&&arguments[0].z>=this.objs[a].z;)a++;this.objs.insert(a,arguments[0]),arguments[0].app&&(arguments[0].vel||arguments[0].vels||arguments[0].rVel||arguments[0].bezierVels||arguments[0].bezierAccs||arguments[0].acc||arguments[0].accs||arguments[0].rAcc||arguments[0].onUpdate||arguments[0].shrink||arguments[0].fade)&&("undefined"==typeof arguments[0].app.looping||arguments[0].app.looping===!1)&&arguments[0].app.loop()}return arguments[arguments.length-1]===!0||this.app&&this.app.draw(),arguments[0]},iio.Obj.prototype.rmv=function(a,b){return callback=function(b,c,d){return b==a?(d.splice(c,1),!0):!1},"undefined"==typeof a?this.objs=[]:a instanceof Array?a.forEach(function(a){this.rmv(a)},this):iio.is.number(a)&&a<this.objs.length?this.objs.splice(a,1):this.objs&&this.objs.some(callback),this.collisions&&this.collisions.forEach(function(b,c){b[0]==a||b[1]==a?this.collisions.splice(c,1):b[0]instanceof Array&&b[0].some(callback),b[1]instanceof Array&&b[1].some(callback)}),b||this.app.draw(),a},iio.Obj.prototype.clear=function(){this.objs=[]},iio.Obj.prototype.loop=function(a,b){this.looping=!0;var c;return"undefined"==typeof b?"undefined"==typeof a?(this.app.mainLoop&&iio.cancelLoop(this.app.mainLoop.id),c=this.app.mainLoop={fps:60,fn:this,af:this.rqAnimFrame,o:this.app},this.app.fps=60,c.id=this.app.mainLoop.id=iio.loop(this.app.mainLoop)):iio.is.number(a)?(this.app.mainLoop&&iio.cancelLoop(this.app.mainLoop.id),c=this.app.mainLoop={fps:a,o:this.app,af:!1},this.app.fps=a,c.id=this.app.mainLoop.id=iio.loop(this.app.mainLoop)):(c={fps:60,fn:a,af:this.rqAnimFrame},c.id=iio.loop(c,a)):(c={fps:a,fn:b,o:this,af:this.rqAnimFrame},c.id=iio.loop(a,c)),this.loops.push(c),c.id},iio.Obj.prototype.clear_loops=function(){for(var a=0;a<this.loops.length;a++)iio.cancelLoop(this.loops[a])},iio.Obj.prototype.pause=function(a){this.paused?(this.paused=!1,this.loops.forEach(function(a){iio.loop(a)}),this.mainLoop&&iio.loop(this.mainLoop),"undefined"==typeof a&&this.objs.forEach(function(a){a.loops.forEach(function(a){iio.loop(a)})})):(iio.cancelLoops(this),iio.cancelLoop(this.mainLoop.id),this.paused=!0)},iio.Polygon=function(){this.Polygon.apply(this,arguments)},iio.inherit(iio.Polygon,iio.Drawable),iio.Polygon.prototype._super=iio.Drawable.prototype,iio.Polygon.prototype.Polygon=function(){this._super.Drawable.call(this,arguments[0])},iio.Polygon.prototype.draw_shape=function(a){if(a.beginPath(),a.moveTo(0,0),this.bezier){for(var b=0,c=1;c<this.vs.length;c++)a["this"].bezierCurveTo(this.bezier[b++]||this.vs[c-1].x-this.vs[0].x,this.bezier[b++]||this.vs[c-1].y-this.vs[0].y,this.bezier[b++]||this.vs[c].x-this.vs[0].x,this.bezier[b++]||this.vs[c].y-this.vs[0].y,this.vs[c].x-this.vs[0].x,this.vs[c].y-this.vs[0].y);"undefined"!=typeof this.open&&this.open||(c--,a["this"].bezierCurveTo(this.bezier[b++]||this.vs[c].x-this.vs[0].x,this.bezier[b++]||this.vs[c].y-this.vs[0].y,this.bezier[b++]||0,this.bezier[b++]||0,0,0))}else for(var c=1;c<this.vs.length;c++)a.lineTo(this.vs[c].x-this.vs[0].x,this.vs[c].y-this.vs[0].y);"undefined"!=typeof this.open&&this.open||a.closePath(),this.finish_path_shape(a)},iio.Polygon.prototype.contains=function(a,b){b=a.y||b,a=a.x||a;var d=j=c=0,e=this.vs;for(this.rot&&(e=this.getTrueVertices()),d=0,j=e.length-1;d<e.length;j=d++)e[d].y>b!=e[j].y>b&&a<(e[j].x-e[d].x)*(b-e[d].y)/(e[j].y-e[d].y)+e[d].x&&(c=!c);return c},iio.Polygon.prototype.getTrueVertices=function(){return this.vs.map(function(a){var b=iio.point.rotate(a.x-this.pos.x,a.y-this.pos.y,this.rot);return b.x+=this.pos.x,b.y+=this.pos.y,b},this)},iio.Rectangle=function(){this.Rectangle.apply(this,arguments)},iio.inherit(iio.Rectangle,iio.Drawable),iio.Rectangle.prototype._super=iio.Drawable.prototype,iio.Rectangle.prototype.Rectangle=function(){this._super.Drawable.call(this,arguments[0]),this.height=this.height||this.width},iio.Rectangle.prototype.contains=function(a,b){return this.rot?iio.poly.contains(a,b):(b=a.y||b,a=a.x||a,a-=this.pos.x,b-=this.pos.y,a>-this.width/2&&a<this.width/2&&b>-this.width/2&&b<this.width/2?!0:!1)},iio.Rectangle.prototype.real_vertices=function(){return this.vs=[{x:this.left,y:this.top},{x:this.right,y:this.top},{x:this.right,y:this.bottom},{x:this.left,y:this.bottom}],this.vs.map(function(a){var b=iio.point.rotate(a.x-this.pos.x,a.y-this.pos.y,this.rot);return b.x+=this.pos.x,b.y+=this.pos.y,b},this)},iio.Rectangle.prototype.left=function(){return pos.x-this.width},iio.Rectangle.prototype.right=function(){return pos.x+this.width},iio.Rectangle.prototype.top=function(){return pos.y-this.height},iio.Rectangle.prototype.bottom=function(){return pos.y+this.height},iio.Rectangle.prototype.draw_rounded=function(a){a.beginPath(),a.moveTo(this.round[0],0),a.lineTo(this.width-this.round[1],0),a.quadraticCurveTo(this.width,0,this.width,this.round[1]),a.lineTo(this.width,this.height-this.round[2]),a.quadraticCurveTo(this.width,this.height,this.width-this.round[2],this.height),a.lineTo(this.round[3],this.height),a.quadraticCurveTo(0,this.height,0,this.height-this.round[3]),a.lineTo(0,this.round[0]),a.quadraticCurveTo(0,0,this.round[0],0),a.closePath(),a.stroke(),a.fill(),a.clip()},iio.Rectangle.prototype.draw_shape=function(a){a.translate(-this.width/2,-this.width/2),this.bezier?(iio.draw.poly(a,this.getTrueVertices(),this.bezier),this.finish_path_shape(a)):this.round?this.draw_rounded(a):(this.color&&a.fillRect(0,0,this.width,this.width),this.img&&a.drawImage(this.img,0,0,this.width,this.width),this.anims&&a.drawImage(this.anims[this.animKey].frames[this.animFrame].src,this.anims[this.animKey].frames[this.animFrame].x,this.anims[this.animKey].frames[this.animFrame].y,this.anims[this.animKey].frames[this.animFrame].w,this.anims[this.animKey].frames[this.animFrame].h,0,0,this.width,this.width),this.outline&&a.strokeRect(0,0,this.width,this.width))},iio.SpriteMap=function(){this.SpriteMap.apply(this,arguments)},iio.SpriteMap.prototype.SpriteMap=function(a,b){return this.img=new Image,this.img.src=a,this.img.onload=b.onload,this},iio.SpriteMap.prototype.sprite=function(a,b,c,d,e,f){var g={};if(iio.is.string(a)&&(g.tag=a,a=b,b=c,c=d,d=e,e=f),a instanceof Array)g.frames=a;else if(c instanceof Array)g.frames=c;else{g.frames=[];for(var h=0;c>h;h++)g.frames[h]={x:a*h,y:e,w:a,h:b}}return g.frames.forEach(function(c){"undefined"==typeof c.src&&(c.src=this.img),"undefined"==typeof c.w&&(c.w=a),"undefined"==typeof c.h&&(c.h=b)},this),g},iio.Square=function(){this.Square.apply(this,arguments)},iio.inherit(iio.Square,iio.Rectangle),iio.Square.prototype._super=iio.Rectangle.prototype,iio.Square.prototype.Square=function(){this._super.Rectangle.call(this,arguments[0]),this.height=this.width},iio.Text=function(){this.Text.apply(this,arguments)},iio.inherit(iio.Text,iio.Drawable),iio.Text.prototype._super=iio.Drawable.prototype,iio.Text.prototype.Text=function(){this._super.Drawable.call(this,arguments[0]),this.size=this.size||20,this.color=this.color||"black",this.font=this.font||"Arial",this.align=this.align||"center"},iio.Text.prototype.draw_shape=function(a){a.font=this.size+"px "+this.font,a.textAlign=this.align,this.color&&a.fillText(this.text,0,0),this.outline&&a.strokeText(this.text,0,0),this.showCursor&&(this.cursor.pos.x=this.cursor.endPos.x=this.getX(this.cursor.index))},iio.Text.prototype.contains=function(a,b){return"undefined"==typeof b&&(b=a.y,a=a.x),a-=this.pos.x,b-=this.pos.y,("undefined"==typeof this.align||"left"==this.align)&&a>0&&a<this.width&&0>b&&b>-this.height?!0:"center"==this.align&&a>-this.width/2&&a<this.width/2&&0>b&&b>-this.height?!0:("right"==this.align||"end"==this.align)&&a>-this.width&&0>a&&0>b&&b>-this.height?!0:!1},iio.Text.prototype.charWidth=function(a){return a=a||0,this.app.ctx.font=this.size+"px "+this.font,this.app.ctx.measureText(this.text.charAt(a)).width},iio.Text.prototype.getX=function(a){if(this.app.ctx.font=this.size+"px "+this.font,"undefined"==typeof this.align||"left"==this.align)return this.app.ctx.measureText(this.text.substring(0,a)).width;if("right"==this.align||"end"==this.align)return-this.app.ctx.measureText(this.text.substring(0,this.text.length-a)).width;if("center"==this.align){var b=-Math.floor(this.app.ctx.measureText(this.text).width/2);return b+this.app.ctx.measureText(this.text.substring(0,a)).width}},iio.Text.prototype.keyUp=function(a){"shift"==a&&(this.cursor.shift=!1)},iio.Text.prototype.keyDown=function(a,b,c,d){iio.is.number(b)||(d=b,b=this.cursor.index);var e,f=this.text.substring(0,b),g=this.text.substring(b);return"undefined"!=typeof d&&(e=d(a,c,f,g),0!=e)?(this.text=f+e+g,this.cursor.index=b+1,this.showCursor&&(this.cursor.hidden=!1),this.app.draw(),this.cursor.index):(a.length>1?"space"==a?(this.text=f+" "+g,b++):"backspace"==a&&b>0?(this.text=f.substring(0,f.length-1)+g,b--):"delete"==a&&b<this.text.length?this.text=f+g.substring(1):"left arrow"==a&&b>0?b--:"right arrow"==a&&b<this.text.length?b++:"shift"==a?this.cursor.shift=!0:"semi-colon"==a?(this.text=c?f+":"+g:f+";"+g,b++):"equal"==a?(this.text=c?f+"+"+g:f+"="+g,b++):"comma"==a?(this.text=c?f+"<"+g:f+","+g,b++):"dash"==a?(this.text=c?f+"_"+g:f+"-"+g,b++):"period"==a?(this.text=c?f+">"+g:f+"."+g,b++):"forward slash"==a?(this.text=c?f+"?"+g:f+"/"+g,b++):"grave accent"==a?(this.text=c?f+"~"+g:f+"`"+g,b++):"open bracket"==a?(this.text=c?f+"{"+g:f+"["+g,b++):"back slash"==a?(this.text=c?f+"|"+g:f+"/"+g,b++):"close bracket"==a?(this.text=c?f+"}"+g:f+"]"+g,b++):"single quote"==a&&(this.text=c?f+'"'+g:f+"'"+g,b++):(this.text=c||this.cursor.shift?f+a.charAt(0).toUpperCase()+g:f+a+g,b++),this.showCursor&&(this.cursor.hidden=!1),this.cursor.index=b,this.app.draw(),b)},iio.V=function(){this.V.apply(this,arguments)},iio.V.prototype.V=function(a,b){a instanceof Array?(this.x=a[0]||0,this.y=a[1]||0):a&&a.x?(this.x=a.x||0,this.y=a.y||0):(this.x=a||0,this.y=b||0)},iio.V.add=function(a,b){for(var c in b)a[c]&&(a[c]+=b[c]);return a},iio.V.sub=function(a,b){for(var c in b)a[c]&&(a[c]-=b[c]);return a},iio.V.mult=function(a,b){for(var c in b)a[c]&&(a[c]*=b[c]);return a},iio.V.div=function(a,b){for(var c in b)a[c]&&(a[c]/=b[c]);return a},iio.V.dist=function(a,b){return Math.sqrt(Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2))},iio.V.prototype.clone=function(){return new iio.V(this.x,this.y)},iio={},iio.apps=[],iio.scripts=iio.scripts||{},iio.start=function(a,b,c){var d=iio.canvas.prep(b,c);return a instanceof Array?new iio.App(d,a[0],a[1]):new iio.App(d,a)},iio.runScripts=function(){var scripts=Array.prototype.slice.call(document.getElementsByTagName("script")),iioScripts=scripts.filter(function(a){return"text/iioscript"===a.type});iioScripts.forEach(function(script){var xhr=new XMLHttpRequest;xhr.open("GET",script.src,!0),xhr.onreadystatechange=function(){4!==xhr.readyState||200!==xhr.status&&0!=xhr.status||(iio.scripts[script.src]=eval("(function() {\nreturn function(settings) {\n"+CoffeeScript.compile(xhr.responseText,{bare:!0})+"}\n})()"),iio.start(iio.scripts[script.src]))},xhr.send(null)})},Array.prototype.insert=function(a,b){return this.splice(a,0,b),this},void 0===Function.prototype.name&&Object.defineProperty(Function.prototype,"name",{get:function(){return/function ([^(]*)/.exec(this+"")[1]}}),iio.inherit=function(a,b){var c=a;emptyFn.prototype=b.prototype,a.prototype=new emptyFn,a.prototype.constructor=c},iio.merge=function(a,b){for(var c in b)a[c]=b[c];return a},iio.addEvent=function(a,b,c,d){return a.addEventListener?(a.addEventListener(b,c,d),!0):a.attachEvent?(a.attachEvent("on"+b,c),!0):!1},iio.set=function(a,b){a.forEach(function(a){a.set(b)})},iio.random=function(a,b){return a=a||0,b=0===b||"undefined"!=typeof b?b:1,Math.random()*(b-a)+a},iio.randomInt=function(a,b){return a=a||0,b=b||1,Math.floor(Math.random()*(b+1-a))+a},iio.load=function(a,b){var c=new Image;return c.src=a,c.onload=b,c},iio.read=function(a,b){var c=new XMLHttpRequest;c.open("GET",a,!0),c.onreadystatechange=function(){return 4!==c.readyState||200!==c.status&&0!=c.status?void 0:b(c.responseText)},c.send(null)},iio.loop=function(a,b,c){function d(){var c=(new Date).getTime();if("undefined"==typeof b.last)var e=!0;var f=Math.floor(Math.max(0,1e3/a-(c-(b.last||a))));b.last=c+f;var g;"undefined"==typeof e&&(g="undefined"==typeof b.fn?b.o._update(b.o,f):iio.is.fn(b.fn)?b.fn(b.o,b,f):b.fn._update(b,f),b.o.app.draw()),"undefined"==typeof g?b.id=window.setTimeout(d,f):(a=g,b.id=window.setTimeout(d,1e3/g))}function e(){"undefined"==typeof b.fn?b.o.draw():iio.is.fn(b.fn)?b.fn(b.o):(b.fn._update(),b.fn.draw()),b.o.app.draw(),b.id=window.requestAnimationFrame(e)}return iio.is.number(a)||"undefined"==typeof window.requestAnimationFrame||!a.af?("undefined"!=typeof a.af&&"undefined"==typeof a.fps?(c=b,b=a,a=60):iio.is.number(a)||(b=a,a=a.fps),b.id=window.setTimeout(d,1e3/a),b.id):(c=b,b=a,b.id=window.requestAnimationFrame(e),b.id)},iio.cancelLoop=function(a){window.clearTimeout(a),window.cancelAnimationFrame(a)},iio.cancelLoops=function(a,b){a.loops.forEach(function(a){iio.cancelLoop(a.id)}),a.mainLoop&&iio.cancelLoop(a.mainLoop.id),"undefined"==typeof b&&a.objs.forEach(function(a){iio.cancelLoops(a)})},iio.resize=function(){iio.apps.forEach(function(a){a.canvas.fullscreen&&(window.jQuery?(a.canvas.width=$(window).width(),a.canvas.height=$(window).height()):(a.canvas.width=window.innerWidth,a.canvas.height=window.innerHeight)),a.width=a.canvas.width,a.height=a.canvas.height,a.center.x=a.canvas.width/2,a.center.y=a.canvas.height/2,a.runScript&&a.runScript.resize&&a.runScript.resize(),a.draw()})},iio.prep_input=function(){window.onresize=iio.resize,iio.addEvent(window,"keydown",function(a){var b=iio.key.string(a);iio.apps.forEach(function(c){c.runScript&&c.runScript.onKeyDown&&c.runScript.onKeyDown(a,b)})}),iio.addEvent(window,"keyup",function(a){var b=iio.key.string(a);iio.apps.forEach(function(c){
c.runScript&&c.runScript.onKeyUp&&c.runScript.onKeyUp(a,b)})}),iio.addEvent(window,"scroll",function(a){iio.apps.forEach(function(a){var b=a.canvas.getBoundingClientRect();a.pos={x:b.left,y:b.top}})})},iio.prep_input(),iio.createGradient=function(a,b){var c,d=b.split(":"),e=d[1].split(",");c=4==e.length?a.createLinearGradient(e[0],e[1],e[2],e[3]):a.createRadialGradient(e[0],e[1],e[2],e[3],e[4],e[5]);var f;return d.forEach(function(a){f=a.indexOf(",");var b=parseFloat(a.substring(0,f)),d=a.substring(f+1);c.addColorStop(b,d)}),c},window.addEventListener?window.addEventListener("DOMContentLoaded",iio.runScripts,!1):window.attachEvent("onload",iio.runScripts),iio.is={fn:function(a){return"function"==typeof a},number:function(a){return"number"==typeof a?!0:a-0==a&&a.length>0},string:function(a){return"string"==typeof a||a instanceof String},image:function(a){return["png","jpg","gif","tiff"].some(function(b){return-1!=a.indexOf("."+b)})},between:function(a,b,c){if(b>c){var d=b;b=c,c=d}return a>=b&&c>=a}},iio.convert={color:function(a){return"transparent"==a.toLowerCase()?new iio.Color(0,0,0,0):"white"==a.toLowerCase()?new iio.Color(255,255,255):"black"==a.toLowerCase()?new iio.Color:"red"==a.toLowerCase()?new iio.Color(255):"green"==a.toLowerCase()?new iio.Color(0,255):"blue"==a.toLowerCase()?new iio.Color(0,0,255):void 0}},iio.point={rotate:function(a,b,c){if("undefined"!=typeof a.x&&(c=b,b=a.y,a=a.x),"undefined"==typeof c||0==c)return{x:a,y:b};var d=a*Math.cos(c)-b*Math.sin(c),e=b*Math.cos(c)+a*Math.sin(c);return{x:d,y:e}},vector:function(a){var b=[];a instanceof Array||(a=[a]);for(var c=0;c<a.length;c++)"undefined"!=typeof a[c].x?b.push(a[c]):(b.push({x:a[c],y:a[c+1]}),c++);return b}},iio.key={string:function(a){switch(a.keyCode){case 8:return"backspace";case 9:return"tab";case 13:return"enter";case 16:return"shift";case 17:return"ctrl";case 18:return"alt";case 19:return"pause";case 20:return"caps lock";case 27:return"escape";case 32:return"space";case 33:return"page up";case 34:return"page down";case 35:return"end";case 36:return"home";case 37:return"left arrow";case 38:return"up arrow";case 39:return"right arrow";case 40:return"down arrow";case 45:return"insert";case 46:return"delete";case 48:return"0";case 49:return"1";case 50:return"2";case 51:return"3";case 52:return"4";case 53:return"5";case 54:return"6";case 55:return"7";case 56:return"8";case 57:return"9";case 65:return"a";case 66:return"b";case 67:return"c";case 68:return"d";case 69:return"e";case 70:return"f";case 71:return"g";case 72:return"h";case 73:return"i";case 74:return"j";case 75:return"k";case 76:return"l";case 77:return"m";case 78:return"n";case 79:return"o";case 80:return"p";case 81:return"q";case 82:return"r";case 83:return"s";case 84:return"t";case 85:return"u";case 86:return"v";case 87:return"w";case 88:return"x";case 89:return"y";case 90:return"z";case 91:return"left window";case 92:return"right window";case 93:return"select key";case 96:return"n0";case 97:return"n1";case 98:return"n2";case 99:return"n3";case 100:return"n4";case 101:return"n5";case 102:return"n6";case 103:return"n7";case 104:return"n8";case 105:return"n9";case 106:return"multiply";case 107:return"add";case 109:return"subtract";case 110:return"dec";case 111:return"divide";case 112:return"f1";case 113:return"f2";case 114:return"f3";case 115:return"f4";case 116:return"f5";case 117:return"f6";case 118:return"f7";case 119:return"f8";case 120:return"f9";case 121:return"f10";case 122:return"f11";case 123:return"f12";case 144:return"num lock";case 156:return"scroll lock";case 186:return"semi-colon";case 187:return"equal";case 188:return"comma";case 189:return"dash";case 190:return"period";case 191:return"forward slash";case 192:return"grave accent";case 219:return"open bracket";case 220:return"back slash";case 221:return"close bracket";case 222:return"single quote";default:return"undefined"}},code_is:function(a,b){a instanceof Array||(a=[a]);var c=iio.key.string(b);return a.some(function(a){return a===c})}},iio.canvas={create:function(a,b){var c=document.createElement("canvas");return a?(c.width=a,c.height=b):(c.margin=0,c.padding=0,c.style.position="absolute",c.fullscreen=!0,window.jQuery?(c.width=$(document).width(),c.height=$(document).height()):(c.width=window.innerWidth,c.height=window.innerHeight)),c},prep:function(a,b){var c;return a?(c=document.getElementById(a),c||("CANVAS"==a.tagName?c=a:(iio.is.number(a)||a.x)&&(c=iio.canvas.create(a.x||a,a.y||a),b?b.appendChild(c):document.body.appendChild(c)))):(iio.canvas.prep_fullscreen(),c=iio.canvas.create(),document.body.appendChild(c)),c},prep_fullscreen:function(){document.body.style.margin=0,document.body.style.padding=0},prep_input:function(a){a.onmousedown=function(a){var b=this.parent.convertEventPos(a);this.parent.click&&this.parent.click(a,b),this.parent.objs.forEach(function(c,d){if(0!==d&&(b=this.parent.convertEventPos(a)),c.contains&&c.contains(b)&&c.click)if(c.cellAt){var e=c.cellAt(b);c.click(a,b,e,c.cellCenter(e.c,e.r))}else c.click(a,b)},this)}}},iio.collision={check:function(a,b){return"undefined"==typeof a||"undefined"==typeof b?!1:a.type==iio.RECT&&b.type==iio.RECT?a.simple?b.simple?iio.collision.rectXrect(a.pos.x-a.bbx[0],a.pos.x+a.bbx[0],a.pos.y-(a.bbx[1]||a.bbx[0]),a.pos.y+(a.bbx[1]||a.bbx[0]),b.pos.x-b.bbx[0],b.pos.x+b.bbx[0],b.pos.y-(b.bbx[1]||b.bbx[0]),b.pos.y+(b.bbx[1]||b.bbx[0])):iio.collision.rectXrect(a.pos.x-a.bbx[0],a.pos.x+a.bbx[0],a.pos.y-(a.bbx[1]||a.bbx[0]),a.pos.y+(a.bbx[1]||a.bbx[0]),b.left,b.right,b.top,b.bottom):b.simple?iio.collision.rectXrect(a.left,a.right,a.top,a.bottom,b.pos.x-b.bbx[0],b.pos.x+b.bbx[0],b.pos.y-(b.bbx[1]||b.bbx[0]),b.pos.y+(b.bbx[1]||b.bbx[0])):iio.collision.rectXrect(a.left,a.right,a.top,a.bottom,b.left,b.right,b.top,b.bottom):void 0},rectXrect:function(a,b,c,d,e,f,g,h){return f>a&&b>e&&h>c&&d>g?!0:!1}},iio.logs=[],iio.Log=function(){this.Log.apply(this,arguments)},iio.Log.SUCCESS=1,iio.Log.FAILURE=2,iio.Log.WARNING=3,iio.Log.prototype.Log=function(){if(iio.is.string(arguments[0]))this.msg=arguments[0],this.type=arguments[1]||0;else for(var a in arguments[0])this[a]=arguments[0][a]},iio.log=function(){iio.add_log(new iio.Log(arguments[0],arguments[1]))},iio.show_logs=function(){iio.logDiv=document.createElement("div"),iio.logDiv.id="iio_log",iio.logDiv.style.position="fixed",iio.logDiv.style.bottom="0",iio.logDiv.style.right="0",document.body.appendChild(iio.logDiv);for(var a=0;a<iio.logs.length;a++)iio.add_log(iio.logs[a])},iio.add_log=function(a){var b=document.createElement("p");return b.innerHTML=a.msg,a.type==iio.Log.SUCCESS&&(b.style.color="green"),a.type==iio.Log.FAILURE&&(b.style.color="red"),a.type==iio.Log.WARNING&&(b.style.color="yellow"),b.style.fontFamily="monospace",iio.logDiv.appendChild(b),iio.logs.push(a),a},iio._start=iio.start,iio.start=function(a,b,c){return iio.log("START: "+a.name),iio._start(a,b,c)},iio.App.prototype._App=iio.App.prototype.App,iio.App.prototype.App=function(a,b,c){iio.log("enter CONSTRUCTOR: App"),this._App(a,b,c),iio.log("- App.pos: "+this.pos.x+","+this.pos.y),iio.log("- App.width: "+this.width),iio.log("- App.height: "+this.height),iio.log("end CONSTRUCTOR: App")},iio.Obj.prototype._Obj=iio.Obj.prototype.Obj,iio.Obj.prototype.Obj=function(){iio.log("enter CONSTRUCTOR: Obj"),this._Obj(arguments[0]),this.pos&&iio.log("- Obj.pos: "+this.pos.x+","+this.pos.y),this.color&&iio.log("- Obj.color: "+this.color.toString()),iio.log("end CONSTRUCTOR: Obj")},iio.Drawable.prototype._Drawable=iio.Drawable.prototype.Drawable,iio.Drawable.prototype.Drawable=function(){iio.log("enter CONSTRUCTOR: Drawable"),this._Drawable(arguments[0]),iio.log("end CONSTRUCTOR: Drawable")},iio.Line.prototype._Line=iio.Line.prototype.Line,iio.Line.prototype.Line=function(){iio.log("enter CONSTRUCTOR: Line"),this._Line(arguments[0]),this.vs&&iio.log("- Line.vs: ["+this.vs[0].x+","+this.vs[0].y+"] ["+this.vs[1].x+","+this.vs[1].y+"]"),iio.log("end CONSTRUCTOR: Line")};